{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "resourceDefinitions": {
            "value": {
                "applicationServicePlans": [
                    {
                        "name": "byteterrace"
                    }
                ],
                "cdnProfiles": [
                    {
                        "auditLogAnalyticsWorkspaceName": "byteterrace",
                        "name": "byteterrace-net"
                    }
                ],
                "communicationServices": [
                    {
                        "auditLogAnalyticsWorkspaceName": "byteterrace",
                        "name": "byteterrace"
                    }
                ],
                "dnsZones": {
                    "private": [
                        {
                            "name": "byteterrace.net"
                        }
                    ],
                    "public": [
                        {
                            "name": "byteterrace.app"
                        },
                        {
                            "name": "byteterrace.com"
                        },
                        {
                            "name": "byteterrace.dev"
                        },
                        {
                            "name": "byteterrace.info"
                        },
                        {
                            "name": "byteterrace.net"
                        },
                        {
                            "name": "byteterrace.org"
                        },
                        {
                            "name": "byteterrace.us"
                        },
                        {
                            "name": "byteterrace.xyz"
                        },
                        {
                            "name": "bytrc.com"
                        }
                    ]
                },
                "keyVaults": [
                    {
                        "auditLogAnalyticsWorkspaceName": "byteterrace",
                        "name": "byteterrace",
                        "virtualNetworkRules": [
                            {
                                "subnetName": "byteterrace",
                                "virtualNetworkName": "byteterrace.net"
                            }
                        ]
                    }
                ],
                "monitor": {
                    "applicationInsightsComponents": [
                        {
                            "logAnalyticsWorkspaceName": "byteterrace",
                            "name": "byteterrace"
                        }
                    ],
                    "logAnalyticsWorkspaces": [
                        {
                            "name": "byteterrace"
                        }
                    ],
                    "privateLinkScopes": [
                        {
                            "name": "byteterrace"
                        }
                    ]
                },
                "networkSecurityGroups": [
                    {
                        "auditLogAnalyticsWorkspaceName": "byteterrace",
                        "name": "AzureBastionNetworkSecurityGroup",
                        "securityRules": [
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "*" ],
                                "destinationPortRanges": [ "443" ],
                                "direction": "Inbound",
                                "name": "Allow-AzureLoadBalancer-Inbound",
                                "priority": 4093,
                                "protocol": "TCP",
                                "sourceAddressPrefixes": [ "AzureLoadBalancer" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "VirtualNetwork" ],
                                "destinationPortRanges": [
                                    "5071",
                                    "8080"
                                ],
                                "direction": "Inbound",
                                "name": "Allow-BastionHostCommunication-Inbound",
                                "priority": 4094,
                                "protocol": "*",
                                "sourceAddressPrefixes": [ "VirtualNetwork" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "*" ],
                                "destinationPortRanges": [ "443" ],
                                "direction": "Inbound",
                                "name": "Allow-Https-Inbound",
                                "priority": 4095,
                                "protocol": "TCP",
                                "sourceAddressPrefixes": [ "Internet" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "*" ],
                                "destinationPortRanges": [ "443" ],
                                "direction": "Inbound",
                                "name": "Allow-GatewayManager-Inbound",
                                "priority": 4096,
                                "protocol": "TCP",
                                "sourceAddressPrefixes": [ "GatewayManager" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "AzureCloud" ],
                                "destinationPortRanges": [ "443" ],
                                "direction": "Outbound",
                                "name": "Allow-AzureCloud-Outbound",
                                "priority": 4093,
                                "protocol": "TCP",
                                "sourceAddressPrefixes": [ "*" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "VirtualNetwork" ],
                                "destinationPortRanges": [
                                    "5071",
                                    "8080"
                                ],
                                "direction": "Outbound",
                                "name": "Allow-BastionHostCommunication-Outbound",
                                "priority": 4094,
                                "protocol": "*",
                                "sourceAddressPrefixes": [ "VirtualNetwork" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "Internet" ],
                                "destinationPortRanges": [ "80" ],
                                "direction": "Outbound",
                                "name": "Allow-GetSessionInformation-Outbound",
                                "priority": 4095,
                                "protocol": "*",
                                "sourceAddressPrefixes": [ "*" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "VirtualNetwork" ],
                                "destinationPortRanges": [
                                    "22",
                                    "3389"
                                ],
                                "direction": "Outbound",
                                "name": "Allow-SshRdp-Outbound",
                                "priority": 4096,
                                "protocol": "*",
                                "sourceAddressPrefixes": [ "*" ]
                            }
                        ]
                    },
                    {
                        "auditLogAnalyticsWorkspaceName": "byteterrace",
                        "name": "byteterrace.net",
                        "securityRules": [
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "VirtualNetwork" ],
                                "destinationPortRanges": [ "443" ],
                                "direction": "Inbound",
                                "name": "Allow-HdInsight.EastUs-Inbound",
                                "priority": 4094,
                                "protocol": "TCP",
                                "sourceAddressPrefixes": [ "HDInsight.EastUS" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "VirtualNetwork" ],
                                "destinationPortRanges": [ "443" ],
                                "direction": "Inbound",
                                "name": "Allow-HdInsight.SouthCentralUs-Inbound",
                                "priority": 4095,
                                "protocol": "TCP",
                                "sourceAddressPrefixes": [ "HDInsight.SouthCentralUS" ]
                            },
                            {
                                "access": "Allow",
                                "destinationAddressPrefixes": [ "VirtualNetwork" ],
                                "destinationPortRanges": [ "443" ],
                                "direction": "Inbound",
                                "name": "Allow-HdInsight.WestUs-Inbound",
                                "priority": 4096,
                                "protocol": "TCP",
                                "sourceAddressPrefixes": [ "HDInsight.WestUS" ]
                            }
                        ]
                    }
                ],
                "_sqlServers": [
                    {
                        "auditLogAnalyticsWorkspaceName": "byteterrace",
                        "databases": [
                            {
                                "name": "byteterrace"
                            }
                        ],
                        "name": "byteterrace"
                    }
                ],
                "storageAccounts": [
                    {
                        "isAllowTrustedMicrosoftServicesEnabled": true,
                        "name": "byteterrace",
                        "queueNames": [
                            "default"
                        ],
                        "virtualNetworkRules": [
                            {
                                "subnetName": "byteterrace",
                                "virtualNetworkName": "byteterrace.net"
                            }
                        ]
                    }
                ],
                "virtualNetworks": [
                    {
                        "addressPrefixes": [
                            "10.0.0.0/8"
                        ],
                        "name": "byteterrace.net",
                        "subnets": [
                            {
                                "addressPrefix": "10.255.255.160/27",
                                "isPrivateEndpointSupportEnabled": true,
                                "name": "AzureBastionSubnet",
                                "networkSecurityGroupName": "AzureBastionNetworkSecurityGroup",
                                "serviceEndpoints": []
                            },
                            {
                                "addressPrefix": "10.255.255.192/26",
                                "isPrivateEndpointSupportEnabled": true,
                                "name": "byteterrace",
                                "networkSecurityGroupName": "byteterrace.net",
                                "serviceEndpoints": [
                                    {
                                        "locations": [
                                            "*"
                                        ],
                                        "service": "Microsoft.AzureCosmosDB"
                                    },
                                    {
                                        "locations": [
                                            "*"
                                        ],
                                        "service": "Microsoft.KeyVault"
                                    },
                                    {
                                        "locations": [
                                            "southcentralus"
                                        ],
                                        "service": "Microsoft.Sql"
                                    },
                                    {
                                        "locations": [
                                            "brazilsouth",
                                            "northcentralus",
                                            "southcentralus"
                                        ],
                                        "service": "Microsoft.Storage"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        },
        "tags": {
            "value": {}
        }
    }
}
